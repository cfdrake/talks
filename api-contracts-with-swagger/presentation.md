# **Building APIs with Swagger**

#### by [@colinfdrake](https://twitter.com/colinfdrake)  <br /><br /> ([http://colindrake.me](http://colindrake.me))

###### <br /><sub>(GIFs graciously provided by giphy.com)</sub>

---

# Overview

- What is Swagger?
- Case Study: How Swagger Improves and Levels Up Your Life 💪🏻
- Tooling Ecosystem
- Live Demo

---

# **What is Swagger?**

---

![](https://media0.giphy.com/media/f7OI0HAFQUnbq/200.gif)


---

![](https://media.giphy.com/media/KXY5lB8yOarLy/giphy.gif)

---

# Swagger is...

* a "[...] simple yet powerful representation of your RESTful API"
* A standardized JSON/YAML specification of an API defining...
  * Meta information (i.e. the fact that SSL is required for all calls)
  * All endpoints available in the API
  * The inputs that each endpoint accepts
  * The possible output/results of calling an endpoint

---

### **An API specified in Swagger creates a contract between said API and the client code that consumes it.**

---

## **This contract is manifested as...**

### A (client-) deliverable document.
### Formalized understanding between developers/teams.

---

# **A "Case Study"**

---

## "Typical" API Design Process

* Lack of formalized notation creates vague ideas about how an API works
* Typically wait until API is realized to get the chance to play with test data
* Interim: mock tests against packaged JSON files, etc.
* Build these test datasets by hand 😞
* When the API is finally deployed, things often end up changing without any accountability 😡

---

## How can Swagger help facilitate fixing this?

* Notation: easy to read, standard YAML/JSON notation
  * Expectations and obligations are unambiguously defined 👌🏻
* Mocking: `swagger-mock-api` can create a rich mocking server with little effort
* Auditing/Evolution: `git`-backed history _(it's just text)_

---

![](http://i.imgur.com/ObqVLLj.gif)

---

## ...There's more!

* Code generation 🙌🏻
  * Client/API-consuming code & request/response models
  * Server-side routing templates/skeleton code
* Web editor
  * Live-preview of an HTML version of the spec
  * Non-developers can view/edit easily

---

![](http://art.ngfiles.com/images/279000/279229_flashyanimation_awesome-animated-gif_1.gif)

---

# **My Greatest Mistake: Live Demo**

---

## Code Generation Example

```swift
// ...
// Generated by swagger-codegen
// ...

import Alamofire

extension SwaggerClientAPI {
    public class BankAccountAPI: APIBase {
        /**
         GET /accounts/{accountid}
         - parameter accountid: (path) The ID of the account to fetch
         - returns: RequestBuilder<AccountResponse>
         */
        public class func getAccount(accountID accountID: Int) -> RequestBuilder<SettingsResponse> {
            var path = "/accounts/{accountID}"

            // ...

            return requestBuilder.init(method: "GET", URLString: URLString, parameters: parameters, isBody: true)
        }

        // ...additional API methods...
    }
}
```

---

![](https://media.giphy.com/media/VHngktboAlxHW/giphy.gif)


---

# **Questions?**
